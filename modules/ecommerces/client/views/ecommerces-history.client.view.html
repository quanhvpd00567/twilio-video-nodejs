<section class="container-ecommerce">
  <div class="row">
    <div class="col-xs-12">
      <!-- TODO: datepicker -->
      <h4 class="position-relative inline-block clickable">
        <i class="fa fa-calendar-check-o" aria-hidden="true"></i>
        {{vm.orderYear | date : "yyyy"}}年の寄付履歴{{vm.condition.total | format_money :false : true}}件
        <input type="text" name="yearHistory" datetime-picker="" datepicker-options="vm.datepickerOptions"
          auto-close="true" enable-time='false' ng-click="openCalendar($event, 'yearHistory')"
          is-open="open.yearHistory" class="form-control date-picker clickable" ng-model="vm.orderYear"
          ng-change="vm.onChangeYearPicker()" />
      </h4>

      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th class="w25p">申し込み番号</th>
              <th class="w25p">申し込み日時</th>
              <th class="w15p">自治体</th>
              <th class="w15p text-right">寄付金額</th>
              <th class="w20p">決済完了日</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="5" ng-show="!vm.docs || vm.docs.length === 0">
                {{'common.table.no_data_available' | translate}}</td>
            </tr>
            <tr ng-repeat="order in vm.docs" ui-sref="company.ecommerces.history-detail({ orderId: order._id })"
              class="clickable">
              <td ng-bind="order.number"></td>
              <td>{{order.created | dateTimeNormal}}</td>
              <td>{{order.municipality.name}}</td>
              <td class="text-right">{{order.pay_amount | format_money :false : true}}</td>
              <td>{{order.created | dateTimeNormal}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-xs-12 mg10t" ng-if="vm.isShowPagination()">
      <div ng-include="'/modules/core/client/views/pagination-ecommerce.client.view.html'"></div>
    </div>
  </div>
</section>

<style scoped>
  button[ng-class^="getClass('today')"] {
    border-top-right-radius: 3px !important;
    border-bottom-right-radius: 3px !important;

  }

  button[ng-class^="getClass('clear')"] {
    display: none;
  }

  .table-responsive {
    border: none;
  }

  .date-picker {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0px;
    opacity: 0;
  }
</style>